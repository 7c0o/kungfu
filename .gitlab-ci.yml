stages:
  - build
build_win:
  stage: build
  tags:
    - windows
  script:
    - yarn install
    - yarn clean
    - yarn build
  only:
    - branches
    - tags
  artifacts:
    expire_in: 1 day
    paths:
      - app\\build\\app\\*exe
build_centos:
  stage: build
  tags:
    - centos
  artifacts:
    expire_in: 1 day
    paths:
      - app/build/app/*.rpm
  script:
    - yarn install
    - yarn clean
    - yarn build
  only:
    - branches
    - tags
build_macosx:
  stage: build
  tags:
    - macosx
  script:
    - yarn install
    - yarn clean
    - yarn build
  only:
    - branches
    - tags
  artifacts:
    expire_in: 1 day
    paths:
      - app/build/app/*.dmg
